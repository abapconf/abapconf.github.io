sap.ui.define(["abapconf/web/abapconf/controller/BaseController","sap/ui/core/Fragment","abapconf/web/abapconf/model/models"],function(e,t,a){"use strict";return e.extend("abapconf.web.abapconf.controller.header.Header",{onInit:function(){var e=a.createHeaderViewModel();this.setModel(e,"headerView");this._startCounter()},_startCounter:function(){var e="2021-12-09T08:45:00+01:00";var t=new Date(e);var a=t.getTime();var o=this.getModel("headerView");var n=setInterval(function(){var e=(new Date).getTime();var t=a-e;var r=Math.floor(t/(1e3*60*60*24));var i=Math.floor(t%(1e3*60*60*24)/(1e3*60*60));var c=Math.floor(t%(1e3*60*60)/(1e3*60));var g=Math.floor(t%(1e3*60)/1e3);o.setProperty("/day",r);o.setProperty("/hour",i<10?"0"+i:i);o.setProperty("/minute",c<10?"0"+c:c);o.setProperty("/second",g<10?"0"+g:g);if(r<0&&i<0&&c<0&&g<0){o.setProperty("/live",true)}if(t<0){clearInterval(n)}},1e3)},doNavigation:function(e,t){this.navTo(t)},onSelectLanguage:function(e){console.log("onSelectLanguage");var a=e.getSource();var o=this.getView();if(!this._oSelectLanguage){this._oSelectLanguage=t.load({id:o.getId(),name:"abapconf.web.abapconf.view.dialog.SelectLanguage",controller:this}).then(function(e){o.addDependent(e);return e})}this._oSelectLanguage.then(function(e){e.openBy(a)})},_closeSelectLanguage:function(){this.byId("selectLanguagePopover").close()},doChangeLanguage:function(e){var t=e.getParameter("item");var a=t.getProperty("key");sap.ui.getCore().getConfiguration().setLanguage(a);this._closeSelectLanguage()}})});